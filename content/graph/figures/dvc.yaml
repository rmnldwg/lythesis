stages:
  convert-to-pdf:
    foreach:
    - simple_graphs
    - simple-prevalences
    - extended-graph
    - extended-base-corner
    - extended-connection12-low-prevalences
    - extended-connection12-high-prevalences
    - extended-add35-prevalences
    - extended-add45-prevalences
    do:
      cmd: >
        inkscape
        --without-gui
        --file=${item}.svg
        --export-pdf=${item}.pdf
        --export-latex
      deps:
      - ${item}.svg
      outs:
      - ${item}.pdf:
          cache: false
      - ${item}.pdf_tex:
          cache: false

  simple-prevalences:
    cmd: python simple-prevalences.py
    deps:
    - ../data/simple-IIItoII-v1-prevalences.hdf5
    - ../data/simple-IItoIII-v1-prevalences.hdf5
    - ../data/simple-both-v1-prevalences.hdf5
    - ../data/simple-nocon-v1-prevalences.hdf5
    - simple-prevalences.py
    outs:
    - simple-prevalences.svg

  simple-corners:
    cmd: python simple-corner.py
    deps:
    - simple-corner.py
    - ../data/simple-both-v1-samples.hdf5
    - ../data/simple-nocon-v1-samples.hdf5
    outs:
    - simple-nocon-corner.svg
    - simple-both-corner.svg

  extended-connection12-prevalences:
    foreach:
    - low
    - high
    do:
      cmd: python extended-connection12-${item}.py
      deps:
      - extended-connection12-${item}.py
      - ../data/extended-base-v1-prevalences.hdf5
      - ../data/extended-add12-v1-prevalences.hdf5
      - ../data/extended-add21-v1-prevalences.hdf5
      outs:
      - extended-connection12-${item}-prevalences.svg

  extended-add35-prevalences:
    cmd: python extended-add35-prevalences.py
    deps:
    - extended-add35-prevalences.py
    - ../data/extended-base-v1-prevalences.hdf5
    - ../data/extended-add35-v1-prevalences.hdf5
    outs:
    - extended-add35-prevalences.svg

  extended-add45-prevalences:
    cmd: python extended-add45-prevalences.py
    deps:
    - extended-add45-prevalences.py
    - ../data/extended-base-v1-prevalences.hdf5
    - ../data/extended-add45-v1-prevalences.hdf5
    outs:
    - extended-add45-prevalences.svg
